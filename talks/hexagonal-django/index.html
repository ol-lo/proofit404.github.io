<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="reveal.css">
        <link rel="stylesheet" type="text/css" href="white.css" id="theme">
        <link rel="stylesheet" type="text/css" href="github.css">
        <title>Hexagonal Django Talk</title>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>Hexagonal Django</h1>
                    <h3>@proofit404</h3>
                </section>
                <section>
                    <h1>Поговорим о коде</h1>
                </section>
                <section>
                    <h1>Плохой код</h1>
                </section>
                <section>
                    <h1>Хрупкость</h1>
                    Проект ломается в местах, несвязанных с вносимыми
                    изменениями
                    <aside class="notes">
                        User.save ~ 3 SLOC
                    </aside>
                </section>
                <section>
                    <h1>Жесткость</h1>
                    Код сопротивляется модификации, необходимостью
                    вносить большое количество правок в различные
                    части проекта даже для тривиальных задач
                </section>
                <section>
                    <h1>Плохой код больно бьет про продакшену :(</h1>
                </section>
                <section>
                    Кому-то было лень писать custom manager
                    <pre>
                        <code class="hljs">
def make_report(request, pk):
    request.GET = request.GET.copy()
    request.GET['foo'] = 'bar'
    response = another_report(request, pk)
    return render(request, 'report.html',
                  context=response.context_data)
                        </code>
                    </pre>
                </section>
                <section>
                    А ещё положил логику в шаблоны, чё ей там будет...
                    <pre>
                        <code class="hljs">
{% for i, j, k in rows %}
&lt;tr&gt;
    &lt;td&gt;{{ i }}&lt;/td&gt;
    &lt;td&gt;{{ j }}&lt;/td&gt;
    &lt;td&gt;{{ i|add:j }}&lt;/td&gt;
&lt;/tr&gt;
{% endfor %}
                        </code>
                    </pre>
                </section>
                <section>
                    И все вроде бы работает
                    <table>
                        <tr>
                            <td style="text-align: center;">Customer</td>
                            <td style="text-align: center;">Orders number</td>
                            <td style="text-align: center;">In total</td>
                        </tr>
                        <tr>
                            <td>Jane</td>
                            <td style="text-align: right;">2</td>
                            <td style="text-align: right;">120$</td>
                        </tr>
                        <tr>
                            <td>Ted</td>
                            <td style="text-align: right;">7</td>
                            <td style="text-align: right;">3053$</td>
                        </tr>
                    </table>
                </section>
                <section>
                    До первого изменения в another_report
                    <table>
                        <tr>
                            <td style="text-align: center;">Customer</td>
                            <td style="text-align: center;">Orders number</td>
                            <td style="text-align: center;">In total</td>
                        </tr>
                        <tr>
                            <td>Jane</td>
                            <td style="text-align: right;">2</td>
                            <td style="text-align: right;">-2453261524615246.0$</td>
                        </tr>
                        <tr>
                            <td>Ted</td>
                            <td style="text-align: right;">7</td>
                            <td style="text-align: right;">-7502737247324375.0$</td>
                        </tr>
                    </table>
                </section>
                <section>
                    <h2>Итого</h2>
                    <ul>
                        <li style="text-align: left;">Не надо смешивать слои абстракции</li>
                        <li style="text-align: left;">Слоёв не должно быть слишком много или мало</li>
                    </ul>
                </section>
            </div>
        </div>
        <script type="text/javascript" src="head.min.js"></script>
        <script type="text/javascript" src="reveal.js"></script>
        <script type="text/javascript">
         Reveal.initialize({
             controls: true,
             progres: true,
             history: true,
             senter: true,
             transition: "slide",
             dependencies: [
                 { src: 'highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                 { src: 'notes.js', async: true }
             ]
         });
        </script>
    </body>
</html>
