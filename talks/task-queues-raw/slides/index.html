<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="css/reveal.css">
        <link rel="stylesheet" type="text/css" href="css/theme/white.css">
        <link rel="stylesheet" type="text/css" href="lib/css/vs.css">
        <link rel="stylesheet" type="text/css" href="css/customize.css">
        <title>Task Queues Raw</title>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h2>Очереди задач</h2>
                    <h2>без купюр</h2>
                </section>
                <section>
                    <img src="pics/ask.png" class="double-face face-corner">
                    <img src="pics/celery.png" class="double-face">
                </section>
                <section>
                    <img src="pics/nvie.jpg" class="double-face face-corner">
                    <img src="pics/rq.png" class="double-face face-corner">
                </section>
                <section>
                    <img src="pics/rabbitmq.png"><br>
                    <img src="pics/direct-exchange.png">
                </section>
                <section>
                    <img src="pics/antirez.png" class="double-face face-corner">
                    <img src="pics/redis.png" class="double-face">
                </section>
                <section>
                    <h2>Submit</h2>
                    <pre>
                        <code class="hljs python">
# celery
add.delay(1, 2)

# rq
queue.enqueue(add, 1, 2)
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Payload</h2>
                    <pre>
                        <code class="hljs json">
{
    "chord": null,
    "args": [1, 2],
    "id": "27ebcaee-444f-4379-a438-04c3b5bb0fc3",
    "eta": null,
    "utc": true,
    "errbacks": null,
    "timelimit": [null, null],
    "kwargs": {},
    "taskset": null,
    "callbacks": null,
    "expires": null,
    "retries": 0,
    "task": "app.add"
}
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Accept task</h2>
                    <pre>
                        <code class="hljs bash">
# celery
$ celery -A myapp worker -Q queue1,queue2

# rq
$ rq worker queue1 queue2
                        </code>
                    </pre>
                </section>
                <section data-background="pics/iceberg.jpg" data-background-size="100%, auto">
                    <h1 style="color: white;">Fragile acknowledgment</h1>
                </section>
                <section data-background="pics/iceberg.jpg" data-background-size="100%, auto">
                    <h1 style="color: white;">rpoplpush</h1>
                    <h1 style="color: white;">lua scripts</h1>
                </section>
                <section data-background="pics/worker-monochrome-photo.jpg" data-background-size="contain">
                </section>
                <section data-background="pics/worker-celery-monochrome-photo.jpg" data-background-size="contain">
                </section>
                <section data-background="pics/redis-fork.jpg" data-background-size="contain" data-background-position="left">
                </section>
                <section data-background="pics/train-crash.jpg" data-background-size="contain">
                </section>
                <section data-background="pics/rabbit_dont_come_easy.jpg" data-background-size="contain">
                </section>
                <section data-background="pics/rb.svg" data-background-size="contain">
                </section>
            </div>
        </div>
        <script type="text/javascript" src="lib/js/head.min.js"></script>
        <script type="text/javascript" src="js/reveal.js"></script>
        <script type="text/javascript">
         Reveal.initialize({
             controls: false,
             progress: false,
             history: true,
             center: true,
             transition: 'slide',
             dependencies: [
                 { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
             ]
         });
        </script>
    </body>
</html>
