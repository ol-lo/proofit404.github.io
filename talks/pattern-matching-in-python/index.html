<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/beige.css">
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <link rel="stylesheet" href="css/customize.css">
        <title>Pattern Matching in Python</title>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>Pattern Matching in Python</h1>
                    <h3>@proofit404</h3>
                </section>
                <section>
                    <h1>Ocaml</h1>
                </section>
                <section>
                    <h2>The Hard Way</h2>
                    <pre>
                        <code class="hljs ocaml">
# let x = 1;;

# x;;
- : int = 1
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Even harder</h2>
                    <pre>
                        <code class="hljs ocaml">
# let add x y = x + y;;

# add 1 2;;
- : int = 3
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>How far we can go?</h2>
                    <pre>
                        <code class="hljs ocaml">
# let rec factorial x =
  if x = 1
  then 1
  else x * factorial (x - 1);;

# factorial 5;;
- : int = 120
                        </code>
                    </pre>
                </section>
                <section>
                    <h1>Algebraic Data Types</h1>
                </section>
                <section>
                    <h2>List</h2>
                    <pre>
                        <code class="hljs ocaml">
# type list = Cons * list | Nil;;

# let mylist = Cons(1, Cons(2, Cons(3, Cons(4, Cons(5, Nil)))));;

# let mylist = 1 :: 2 :: 3 :: 4 :: 5 :: [];;

# let mylist = [1; 2; 3; 4; 5];;
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Fold right</h2>
                    <pre>
                        <code class="hljs ocaml">
# let rec foldr f initial l =
    match l with
    | [] -> initial
    | head :: tail -> f head (foldr f initial tail);;

# foldr ( + ) 0 [1; 2; 3; 4; 5];;
- : int = 15
# foldr ( * ) 1 [1; 2; 3; 4; 5];;
- : int = 120
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Tree</h2>
                    <pre>
                        <code class="hljs ocaml">
# type tree = Leaf of int
            | Node of tree * tree;;

# let mytree = Node(Node(Leaf(0), Leaf(2)), Node(Leaf(3), Leaf(4)));;
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Predicate search</h2>
                    <pre>
                        <code class="hljs ocaml">
# let rec have_in_tree test tree =
    match tree with
    | Leaf x -> test x
    | Node (left, right) ->
       have_in_tree test left
       || have_in_tree test right;;

# have_in_tree (fun x -> x = 0) mytree;;
- : bool = true
                        </code>
                    </pre>
                </section>
                <section>
                    <h1>Let's do it in Python!</h1>
                </section>
                <section>
                    <h2>So how it looks like?</h2>
                    <pre>
                        <code class="hljs python">
from patterns import match

@match(1)
def test(x):
    return 'one'

@match(2)
def test(x):
    return 'two'

>>> test(1)
'one'
>>> test(2)
'two'
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Expressions</h2>
                    <pre>
                        <code class="hljs python">
from patterns import match, x, _

@match(x > 5)
def greater_test(x):
    return '%s greater then five' % x

@match(_)
def greater_test(x):
    return '%s less then or equal to five' % x

>>> greater_test(7)
'7 greater then five'
>>> greater_test(1)
'1 less then or equal to five'
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Fold right</h2>
                    <pre>
                        <code class="hljs python">
from patterns import match, l, _

@match(_, _, [])
def foldr(f, initial, seq):
    return initial

@match(_, _, l[0], l[1:])
def foldr(f, initial, head, tail):
    return f(head, foldr(f, initial, tail))

>>> foldr(lambda x, y: x + y, 0, [1, 2, 3, 4, 5])
15
>>> foldr(lambda x, y: x * y, 1, [1, 2, 3, 4, 5])
120
                        </code>
                    </pre>
                </section>
                <section>
                    <h1>Thanks!</h1>
                </section>
            </div>
        </div>
        <script type="text/javascript" src="lib/js/head.min.js"></script>
        <script type="text/javascript" src="js/reveal.js"></script>
        <script type="text/javascript">
         Reveal.initialize({
             controls: true,
             progress: true,
             history: true,
             center: true,
             transition: 'slide',
             dependencies: [
                 { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                 { src: 'plugin/notes/notes.js', async: true }
             ]
         });

        </script>
    </body>
</html>
